{% extends "base.html" %}

{% block content %}
<h2>Reserve a Seat</h2>

<form method="post">
  <label>First Name:
    <input type="text" name="first_name" required>
  </label><br><br>

  <label>Last Name:
    <input type="text" name="last_name" required>
  </label><br><br>

  <label>Seat Row (1–12):
    <input type="number" name="seat_row" min="1" max="12" required>
  </label><br><br>

  <label>Seat Column (1–4):
    <input type="number" name="seat_col" min="1" max="4" required>
  </label><br><br>

  <button type="submit">Reserve</button>
</form>

<h3>Current Seating Chart</h3>
<table>
  <tr>
    <th>Row \ Col</th>
    <th>1</th><th>2</th><th>3</th><th>4</th>
  </tr>
  {% for row in seating_chart %}
    <tr>
      <th>{{ row[0].row }}</th>
      {% for seat in row %}
        <td class="{{ 'reserved' if seat.reserved else 'available' }}">
          Row {{ seat.row }}, Col {{ seat.col }}<br>
          ${{ seat.price }}<br>
          {% if seat.reserved %}Taken{% else %}Free{% endif %}
        </td>
      {% endfor %}
    </tr>
  {% endfor %}
</table>
{% endblock %}
